<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-CSAPP" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/04/06/CSAPP/" class="article-date">
  <time datetime="2021-04-05T14:15:14.000Z" itemprop="datePublished">2021-04-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/04/06/CSAPP/">CSAPP</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="2-2-Integer-Representation"><a href="#2-2-Integer-Representation" class="headerlink" title="2.2 Integer Representation"></a>2.2 Integer Representation</h2><p><strong>Definition of unsigned encoding</strong><br>For vector $\vec{x}=\left[x_{w-1}, x_{w-2}, \ldots, x_{0}\right]:$<br>$$<br>B 2 U_{w}(\vec{x}) \doteq \sum_{i=0}^{w-1} x_{i} 2^{i}\<br>(2.1)<br>$$<br><strong>Definition of two’s-complement encoding</strong><br>For vector $\vec{x}=\left[x_{w-1}, x_{w-2}, \ldots, x_{0}\right]:$<br>$$<br>B 2 T_{w}(\vec{x}) \doteq-x_{w-1} 2^{w-1}+\sum_{i=0}^{w-2} x_{i} 2^{i}\<br>(2.3)<br>$$<br><strong>Combining equations 2.1 and 2.3</strong><br>$$<br>B2U_w - B2T = 2^w<br>$$<br><strong>Conversion from two’s complement to unsigned</strong><br>For $x$ such that $\operatorname{TMin}<em>{w} \leq x \leq \operatorname{TMax}</em>{w}$ :<br>$$<br>T 2 U_{w}(x)=\left{\begin{array}{ll}<br>x+2^{w}, &amp; x&lt;0 \<br>x, &amp; x \geq 0<br>\end{array}\right.\<br>(2.5)<br>$$<br>(Derivation: Compare equations 2.1 and 2.3)</p>
<p><strong>Unsigned to two’s-complement conversion</strong><br>For $u$ such that $0 \leq u \leq U M a x_{w}:$<br>$$<br>U 2 T_{w}(u)=\left{\begin{array}{ll}<br>u, &amp; u \leq \operatorname{TMax}<em>{w} \<br>u-2^{w}, &amp; u&gt;\operatorname{TMax}</em>{w}<br>\end{array}\right.\<br>(2.7)<br>$$<br><strong>More</strong><br>$$<br>B2U + |B2T| = 2^w<br>$$<br><strong>And more</strong></p>
<p>Umax -&gt; -1</p>
<p>Tmax+1 -&gt; Tmin</p>
<h3 id="Truncating-Numbers"><a href="#Truncating-Numbers" class="headerlink" title="Truncating Numbers"></a>Truncating Numbers</h3><p>When truncating a w-bit number to a k-bit number, we drop the high-order (w − k) bits.</p>
<p><strong>Truncation of an unsigned number</strong><br>$$<br>B2U_k = B2U_w ;mod; 2^k \<br>(2^i ;mod; 2^k = 0, i\ge k)<br>$$<br><strong>Truncation of a two’s complement number</strong><br>$$<br>B2T_k = U2T_k(B2U_w ;mod; 2^k)<br>$$</p>
<h3 id="Other-things"><a href="#Other-things" class="headerlink" title="Other things"></a>Other things</h3><h3 id="Unsigned-arithmetic-problems"><a href="#Unsigned-arithmetic-problems" class="headerlink" title="Unsigned arithmetic problems"></a>Unsigned arithmetic problems</h3><p>Implicit cast to unsigned numbers if there is an unsigned in the expression, then unsigned arithmetic, which is equivalent to modular addition.</p>
<p><strong>size_t</strong></p>
<p>Typically, it is defined to be unsigned for 32-bit programs and unsigned long for 64-bit programs.</p>
<h2 id="2-3-Integer-Arithmetic"><a href="#2-3-Integer-Arithmetic" class="headerlink" title="2.3 Integer Arithmetic"></a>2.3 Integer Arithmetic</h2><h3 id="2-3-1-Unsigned-Addition"><a href="#2-3-1-Unsigned-Addition" class="headerlink" title="2.3.1 Unsigned Addition"></a>2.3.1 Unsigned Addition</h3><p>Fixed-size arithmetic leads to different result from daily mathematics.</p>
<p><strong>Unsigned addition</strong></p>
<p>For x and y such that 0 ≤ x,y &lt; $2^w$:<br>$$<br>x+_{w}^{\mathrm{u}} y=\left{\begin{array}{ll}<br>x+y, &amp; x+y&lt;2^{w} \quad \text { Normal } \<br>x+y-2^{w}, &amp; 2^{w} \leq x+y&lt;2^{w+1} \quad \text { Overflow }<br>\end{array}\right.\<br>(2.11)<br>$$<br><strong>Detecting overflow of unsigned addition</strong></p>
<p>For x and y in the range 0 ≤ x,y ≤ $UMax_w$, let $s = x +^u_w y.$ Then the computation of s overflowed if and only if s&lt;x (or equivalently, s&lt;y).</p>
<p><strong>Abelian group</strong></p>
<p>Modular addition forms a mathematical structure known as an abelian group. That is, it is commutative and associative; it has an identity element 0, and every element has an additive inverse.</p>
<p>The expression (x+y)-x will evaluate to y regardless of whether or not the addition overflows, and that (x+y)-y will always evaluate to x</p>
<p><strong>Unsigned negation (Unsigned additive inverse)</strong></p>
<p>For any number $x$ such that $0 \leq x&lt;2^{w}$, its $w$ -bit unsigned negation $-{ }_{w}^{\mathrm{u}} x$ is given by the following:<br>$$<br>-_{w}^{\mathrm{u}} x=\left{\begin{array}{ll}<br>x, &amp; x=0 \<br>2^{w}-x, &amp; x&gt;0<br>\end{array}\right.\<br>(2.12)<br>$$<br>(Derivation: $-_w^u x +_w^u x = 0$)</p>
<h3 id="2-3-2-Two’s-Complement-Addition"><a href="#2-3-2-Two’s-Complement-Addition" class="headerlink" title="2.3.2 Two’s-Complement Addition"></a>2.3.2 Two’s-Complement Addition</h3><p><strong>Two’s-complement addition</strong></p>
<p>For integer values $x$ and $y$ in the range $-2^{w-1} \leq x, y \leq 2^{w-1}-1$ :<br>$$<br>x+_{w}^{\mathrm{t}} y=\left{\begin{array}{llc}<br>x+y-2^{w}, &amp; 2^{w-1} \leq x+y &amp; \text { Positive overflow } \<br>x+y, &amp; -2^{w-1} \leq x+y&lt;2^{w-1} &amp; \text { Normal } \<br>x+y+2^{w}, &amp; x+y&lt;-2^{w-1} &amp; \text { Negative overflow }<br>\end{array}\right.\<br>(2.13)<br>$$<br>Derivation:</p>
<p>Since two’s-complement addition has the exact same bit-level representation as unsigned addition, so:<br>$$<br>\begin{aligned}<br>x+<em>{w}^{\mathrm{t}} y &amp;=U 2 T</em>{w}\left(T 2 U_{w}(x)+<em>{w}^{\mathrm{u}} T 2 U</em>{w}(y)\right) \<br>&amp;=U 2 T_{w}\left[\left(x_{w-1} 2^{w}+x+y_{w-1} 2^{w}+y\right) \bmod 2^{w}\right] \<br>&amp;=U 2 T_{w}\left[(x+y) \bmod 2^{w}\right]<br>\end{aligned}<br>$$<br>According to the range of x+y, we have 4 cases, mapping to 3 cases in equation 2.13.</p>
<p><strong>Detecting overflow in two’s-complement addition</strong><br>For x and y in the range $TMin_w ≤ x,y ≤ TMax_w$, let $s = x +^t_w y$. Then the computation of s has had positive overflow if and only if x &gt; 0 and y &gt; 0 but s ≤ 0. The computation has had negative overflow if and only if x &lt; 0 and y &lt; 0 but s ≥ 0.</p>
<h3 id="2-3-3-Two’s-Complement-Negation"><a href="#2-3-3-Two’s-Complement-Negation" class="headerlink" title="2.3.3 Two’s-Complement Negation"></a>2.3.3 Two’s-Complement Negation</h3><p>For $x$ in the range $\operatorname{TMin}<em>{w} \leq x \leq \operatorname{TMax}</em>{w}$, its two’s-complement negation $-{ }<em>{w}^{t} x$ is given by the formula<br>$$<br>-</em>{w}^{\mathrm{t}} x=\left{\begin{array}{ll}<br>\operatorname{TMin}<em>{w}, &amp; x=\operatorname{TMin}</em>{w} \<br>-x, &amp; x&gt;\operatorname{TMin}<em>{w}<br>\end{array}\right.\<br>(2.15)<br>$$<br><strong>One technique</strong> for performing two’s-complement negation at the bit level is to complement the bits and then increment the result<br>$$<br>B 2 T</em>{w}(\sim \vec{x})=-\left(1-x_{w-1}\right) 2^{w-1}+\sum_{i=0}^{w-2}\left(1-x_{i}\right) 2^{i}\<br>\begin{aligned}<br>&amp;=\left[-2^{w-1}+\sum_{i=0}^{w-2} 2^{i}\right]-\left[-x_{w-1} 2^{w-1}+\sum_{i=0}^{w-2} x_{i} 2^{i}\right] \<br>&amp;=\left[-2^{w-1}+2^{w-1}-1\right]-B 2 T_{w}(\vec{x}) \<br>&amp;=-1-x<br>\end{aligned}<br>$$<br>Then, incrementing by 1 can be implemented this way:</p>
<ol>
<li>rightmost 0 -&gt; 1</li>
<li>1 bits at right of that 0 -&gt; 0</li>
</ol>
<p><strong>This technique above can be simplified to:</strong> </p>
<ol>
<li>find the right most 1</li>
<li>complement every bit on the left of that 1</li>
</ol>
<h3 id="2-3-4-Unsigned-Multiplication"><a href="#2-3-4-Unsigned-Multiplication" class="headerlink" title="2.3.4 Unsigned Multiplication"></a>2.3.4 Unsigned Multiplication</h3><p>For x and y such that $0 \le x, y \le UMax_w$:<br>$$<br>x *^u_w y = (x * y) ;mod; 2^w\<br>(2.16)<br>$$</p>
<h3 id="2-3-5-Two’s-complement-Multiplication"><a href="#2-3-5-Two’s-complement-Multiplication" class="headerlink" title="2.3.5 Two’s-complement Multiplication"></a>2.3.5 Two’s-complement Multiplication</h3><p>For x and y such that $TMin_w \le x,y \le TMax_w$:<br>$$<br>x <em>^t_w y = U2T_w((x</em>y) ;mod; 2^w)\<br>(2.17)<br>$$<br><strong>The bit-level representation of the product operation is identical for both unsigned and two’s-complement multiplication.</strong><br>$$<br>T2B_w(x <em>^t_w y) = U2B_w(x *^u_w y)<br>$$<br>*</em>Derivation:**</p>
<p>For  $x^{\prime}=x+x_{w-1} 2^{w}$ and $y^{\prime}=y+y_{w-1} 2^{w}$:<br>$$<br>\begin{aligned}<br>\left(x^{\prime} \cdot y^{\prime}\right) \bmod 2^{w} &amp;=\left[\left(x+x_{w-1} 2^{w}\right) \cdot\left(y+y_{w-1} 2^{w}\right)\right] \bmod 2^{w} \<br>&amp;=\left[x \cdot y+\left(x_{w-1} y+y_{w-1} x\right) 2^{w}+x_{w-1} y_{w-1} 2^{2 w}\right] \bmod 2^{w} \<br>&amp;=(x \cdot y) \bmod 2^{w}<br>\end{aligned}\<br>(2.18)\<br>T 2 U_{w}\left(x *<em>{w}^{\mathrm{t}} y\right)=T 2 U</em>{w}\left(U 2 T_{w}\left((x \cdot y) \bmod 2^{w}\right)\right)=(x \cdot y) \bmod 2^{w}\<br>U 2 B_{w}\left(T 2 U_{w}\left(x_{w}^{\mathrm{t}} y\right)\right)=T 2 B_{w}\left(x <em><em>{w}^{\mathrm{t}} y\right)=U 2 B</em>{w}\left(x^{\prime} *_{w}^{\mathrm{u}} y^{\prime}\right)<br>$$<br>*</em>The result of modular operation is always positive!**</p>
<p><strong>While I think, two’s-compliment multiplication is actually:</strong><br>$$<br>x *^t_w y = U2T(T2U(x) *^u_w T2U(x))<br>$$</p>
<h3 id="2-3-6-Multiplying-by-Constants"><a href="#2-3-6-Multiplying-by-Constants" class="headerlink" title="2.3.6 Multiplying by Constants"></a>2.3.6 Multiplying by Constants</h3><p>multiplication by power of 2 -&gt; left shift<br>$$<br>\begin{array}{l}<br>\text { Form } A:(x&lt;&lt;n)+(x&lt;&lt;(n-1))+\cdots+(x&lt;&lt;m) \<br>\text { Form B: } \quad(x&lt;&lt;(n+1))-(x&lt;&lt;m)<br>\end{array}<br>$$</p>
<h3 id="2-3-7-Dividing-by-Powers-of-2"><a href="#2-3-7-Dividing-by-Powers-of-2" class="headerlink" title="2.3.7 Dividing by Powers of 2"></a>2.3.7 Dividing by Powers of 2</h3><p>Integer division always rounds toward zero, while right shift always rounds down.</p>
<p><strong>Unsigned division by a power of 2</strong></p>
<p>Logical right shift k bits, yielding value of $\lfloor x / 2^k \rfloor$. It’s ok to rounds down, cause it’s equivalent to rounding toward zero when result is always positive. </p>
<p><strong>Two’s-complement division by a power of 2, rounding down</strong></p>
<p>Arithmetical right shift k bits, yielding value of $\lfloor x / 2^k \rfloor$, which violates rounding toward zero rules for integer division when result is negative. </p>
<p>Exploiting the property $\lceil x / y\rceil=\lfloor(x+y-1) / y\rfloor$, we write <code>(x+(1&lt;&lt;k)-1) &gt;&gt; k</code> to get $\lceil x/2^w \rceil$.</p>
<p>So for a two’s-complement machine using arithmetic right shifts, the C expression</p>
<p><code>(x&lt;0 ? x+(1&lt;&lt;k)-1 : x) &gt;&gt; k</code></p>
<p>will compute the value $x/2^w$.</p>
<h3 id="Problem-2-44"><a href="#Problem-2-44" class="headerlink" title="Problem 2.44"></a>Problem 2.44</h3><p>$$<br>\begin{aligned}<br>&amp;\text { G. } \mathrm{x} * \sim \mathrm{y}+\mathrm{uy} * \mathrm{ux}==-\mathrm{x}\<br>&amp;\text { True. } \sim \mathrm{y} \text { equals }-\mathrm{y}-1 . \text { uy*ux equals } \mathrm{x} * \mathrm{y} . \text { Thus, the left-hand side is equivalent }\<br>&amp;\text { to } x *-y-x+x * y<br>\end{aligned}<br>$$</p>
<ol>
<li>On the bit level, arithmetic of unsigned and two’s-complement values are indeed identical.</li>
<li>On the math level, math laws such as commutative and associative laws are also applicable. The only thing bit arithmetic differs from integer math is that it truncates numbers in every step of calculation. </li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/04/06/CSAPP/" data-id="cknt1p8y20001h0nc9hal7ooc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android-Studio墙内使用手册" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/07/Android-Studio%E5%A2%99%E5%86%85%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/" class="article-date">
  <time datetime="2021-01-07T06:05:32.000Z" itemprop="datePublished">2021-01-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/07/Android-Studio%E5%A2%99%E5%86%85%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/">Android Studio墙内使用手册</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>使用本地gradle</li>
<li>在全局gradle配置文件添加：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">maven&#123;url &quot;http:&#x2F;&#x2F;maven.aliyun.com&#x2F;nexus&#x2F;content&#x2F;groups&#x2F;public&#x2F;&quot;&#125;</span><br></pre></td></tr></table></figure></li>
<li>（可选）设置Proxy为：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mirrors.neusoft.edu.cn:80</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/07/Android-Studio%E5%A2%99%E5%86%85%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/" data-id="cknt1p8y20000h0nc0xhg67ae" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-c" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/25/c/" class="article-date">
  <time datetime="2020-12-25T12:55:44.000Z" itemprop="datePublished">2020-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/25/c/">c</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Type-Conversion"><a href="#Type-Conversion" class="headerlink" title="Type Conversion"></a>Type Conversion</h2><ol>
<li>Lower to higher (or narrower to wider) is the only automatic.</li>
<li>Reverse is legal but throws a warning (may not), i.e. in assignment or arguments in function call.</li>
<li>Explicit cast under the hood is just the same as the conversion in assignment.</li>
<li>Longer integer converted to shorter by dropping high-order bits.</li>
</ol>
<hr>
<h2 id="Variable-declaration-amp-initialization"><a href="#Variable-declaration-amp-initialization" class="headerlink" title="Variable declaration &amp; initialization"></a>Variable declaration &amp; initialization</h2><ol>
<li>Non-automatic variables are initialized only by constants,</li>
<li>once only,</li>
<li>0 by default.</li>
<li>Automatic variables are initialized by any expression (including other variables), </li>
<li>every time entering this code block,</li>
<li>default undefined (i.e. garbage).</li>
</ol>
<hr>
<h2 id="Signed-and-unsigned-char"><a href="#Signed-and-unsigned-char" class="headerlink" title="Signed and unsigned char"></a>Signed and unsigned char</h2><ol>
<li><p>char is a byte or 8 bits.</p>
</li>
<li><p>ASCII use only 7 bits, some other sets use 8 bits.</p>
</li>
<li><p>signed or unsigned is not defined in specification.</p>
</li>
<li><p>all printable characters on local machine are positive.</p>
</li>
<li><p>so </p>
</li>
<li><p>if local machine use signed char and 8-bits charset, </p>
</li>
<li><p>a char with 1 on 8th bit, </p>
</li>
<li><p>if it’s printable, it’s positive in arithmetic.</p>
</li>
<li><p>if not, negative.</p>
</li>
<li><p>so you’d better specify signed or unsigned when storing non-character data in char variables.</p>
</li>
<li><p>When converting a char with 1 on 8th bit to an int, wether signed or unsigned, printalbe or not,</p>
</li>
<li><p>it will be positive if conversion be done by adding leading 0,</p>
</li>
<li><p>it will be negative if local machine moves the leftmost 1 to be the sign of the new int.</p>
</li>
<li><p>It is machine-dependent.</p>
</li>
</ol>
<hr>
<h2 id="If-test"><a href="#If-test" class="headerlink" title="If test"></a>If test</h2><p>In a if constructure, the condition is tested before the first running.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/25/c/" data-id="cknt1p8y20007h0nc2b88f70y" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Servlet小点和踩坑" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/28/Servlet%E5%B0%8F%E7%82%B9%E5%92%8C%E8%B8%A9%E5%9D%91/" class="article-date">
  <time datetime="2020-10-28T12:20:59.000Z" itemprop="datePublished">2020-10-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/28/Servlet%E5%B0%8F%E7%82%B9%E5%92%8C%E8%B8%A9%E5%9D%91/">Servlet踩坑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="小点"><a href="#小点" class="headerlink" title="小点"></a>小点</h2><ol>
<li>DD（Deployment Descripter）中的listener定义顺序决定了唤醒顺序（… the container uses the DD to determine the notification order of registered listeners.）</li>
<li>if your servlet uses an RequestDispatcher, it can never send its own response, even after forward().</li>
<li><img src="/2020/10/28/Servlet%E5%B0%8F%E7%82%B9%E5%92%8C%E8%B8%A9%E5%9D%91/attributes_vs_parameters.gif" class="" title="[Attributes vs. Parameters]"></li>
<li>Session migration只转移继承了Serializable的变量，但不使用Serialization标准，即不调用Serializable接口的readObject和writeObject方法以对变量的非Serializable成员变量进行处理，因此SessionAttribute必须继承HttpSessionActivationListener对所有非Serializable内容进行处理。</li>
<li><code>Your number is &lt;c:out value=”$&#123;user.phone&#125;”/&gt;</code> is valid, and is non-standard action. jps:xxx is standard action, others are not. EL inside action is valid.</li>
<li><a href="jsp:useBean">jsp:useBean</a>中的type可以自动识别attribute的实际类型并进行cast。比如：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">new</span> Employee();</span><br><span class="line">request.setAttribute(<span class="string">&quot;person&quot;</span>, p);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:useBean id&#x3D;&quot;person&quot; type&#x3D;&quot;employee&quot; scope&#x3D;&quot;request&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>
不会报类型转换错误。而如果是普通java代码，必须进行显示cast，否则报错。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">new</span> Employee();</span><br><span class="line">Employee e = (Employee) p;</span><br></pre></td></tr></table></figure></li>
<li><a href="jsp:useBean">jsp:useBean</a>中的type和class可以都有或者二选一，同时没有将报错：missing type。</li>
<li>TLD says, “This is the Java class, this is the method signature for the function <strong>(including return type)</strong> and this is the name we’ll use in EL expressions”.</li>
<li>EL ${} 里面不能使用括号()</li>
<li>EL ${} 的String和数字coarse，只对Array的index可以String自动转int，对Map不可用，普通计算中也不可用，同时int也不能转String。</li>
<li>${attribute.property}如果attribute不存在，将返回null，如果property不存在，将报错。如同，如果map.get(key)中key不存在，将返回null，如果map.add(value)将报错（map没有add方法，只有put）。</li>
<li>tld有问题会404</li>
<li>jsp里调用custom tag时attribute类型会自动向setter的参数类型转换，转换失败将报错。tld里的type没卵用，只是告诉tld读者这里应该是某种类型，对jsp调用时填错类型没有任何实质性的帮助。</li>
</ol>
<hr>
<h2 id="疑问点"><a href="#疑问点" class="headerlink" title="疑问点"></a>疑问点</h2><ol>
<li>The servlet to which a request is forwarded may access the original query string by calling getQueryString() on the HttpServletRequest. It is incorrect because this method returns the query string on the URL pattern from the RequestDispatcher.</li>
<li>The servlet to which a request is forwarded may access the original query string by calling getAttribute(“javax. servlet.forward.query_string”) on the ServletRequest.</li>
<li>In attributeReplaced() the getValue method returns the OLD value of the attribute if the attribute was replaced</li>
<li>HttpSession只有getAttribute()，没有getContextPath()和getCookies()</li>
</ol>
<hr>
<h2 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h2><ol>
<li>web.xml文件内有拼写错误。此时服务器不会对该错误报错，而是不加载该配置文件，导致路径配置失效。</li>
<li>如果ServletContext.getAttribute()找不到对应名字的attribute，将返回null，从而可能引发NullPointerException。比如listener未成功注册并setAttribute()。</li>
<li>如果ServletContext.getInitParameter()在web.xml中找不到对应名字的parameter，也将返回null。比如param-name拼写错误或两个文件中拼写不同。</li>
<li>ServletContext.getRequestDispatcher() 和 HttpServletRequest.getRequestDispatcher() 都可以获得dispatcher，但实参即路径要求不同，前者要求绝对路径（/开头），后者是/起始的相对路径（不加/）。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/28/Servlet%E5%B0%8F%E7%82%B9%E5%92%8C%E8%B8%A9%E5%9D%91/" data-id="cknt1p8y20006h0nc1yng6djy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java多线程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/25/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="article-date">
  <time datetime="2020-10-25T13:06:24.000Z" itemprop="datePublished">2020-10-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/25/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/">Java多线程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>多任务</td>
<td>multitasking</td>
<td>多工处里的概念</td>
<td></td>
<td></td>
</tr>
<tr>
<td>多进程</td>
<td>multiple processes</td>
<td>多工实现方式之一</td>
<td>每个进程有独立的变量集</td>
<td>较复杂</td>
</tr>
<tr>
<td>多线程</td>
<td>multithreading</td>
<td>多工实现方式之二</td>
<td>各线程共享同一变量集</td>
<td>较轻量</td>
</tr>
</tbody></table>
<p>一个对象实例，一组变量集，多个线程调用、共享</p>
<p>Servlet就是多线程，一个Servlet实例，多个线程分别调用doGet()或doPost()</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/25/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" data-id="cknt1p8y20002h0nc7awug8ty" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java方法重写规则" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/25/Java%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99%E8%A7%84%E5%88%99/" class="article-date">
  <time datetime="2020-10-25T10:15:34.000Z" itemprop="datePublished">2020-10-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/25/Java%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99%E8%A7%84%E5%88%99/">Java方法重写规则</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>看《Head First Servlet &amp; JSP》的时候看到<code>javax.servlet.http.HttpServlet</code>类有</p>
<ol>
<li><code>service(ServletRequest, ServletResponse)</code></li>
<li><code>service(HttpServletRequest, HttpServletResponse)</code></li>
</ol>
<p>两个方法，其中1.方法直接继承自父类，对2.方法是否叫重写产生了疑问。</p>
<p>经查和实验，子类对父类方法的重写规则如下：</p>
<ol>
<li>签名相同，即函数名和参数列表相同（参数是子类也不行，必须类型相同）</li>
<li>返回值类型小于等于父类方法（类型相同或是子类）</li>
<li>抛出异常类型小于等于父类方法</li>
<li>访问权限大于等于父类方法</li>
</ol>
<p><code>service(HttpServletRequest, HttpServletResponse)</code>改变了方法签名，故为方法重载，而不是重写。</p>
<hr>
<p>顺便贴上重写和重载的区别：</p>
<table>
<thead>
<tr>
<th>重写（Overriding）</th>
<th>重载（Overloading）</th>
</tr>
</thead>
<tbody><tr>
<td>方法名相同，参数列表不同（签名不同），不考虑修饰符和返回值类型。</td>
<td>方法名和参数列表都相同（签名相同），修饰符和返回值要求见上。</td>
</tr>
<tr>
<td>让同一个名字的方法可以作用于不同类型对象。</td>
<td>对给定签名方法的实现逻辑不满意，进行覆盖。</td>
</tr>
</tbody></table>
<hr>
<p>参考链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/yldmkx/article/details/108918545">CSDN：Java中方法签名signature、方法重载以及“两同两小一大”的方法覆盖(方法重写)总结</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/25/Java%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99%E8%A7%84%E5%88%99/" data-id="cknt1p8y20003h0nc591g58qx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/20/hello-world/" class="article-date">
  <time datetime="2020-10-20T13:35:55.511Z" itemprop="datePublished">2020-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/20/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/20/hello-world/" data-id="cknt1p8y20008h0ncge7uaizn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java类初始化方式顺序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/20/Java%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F%E9%A1%BA%E5%BA%8F/" class="article-date">
  <time datetime="2020-10-20T13:13:50.000Z" itemprop="datePublished">2020-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/20/Java%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F%E9%A1%BA%E5%BA%8F/">Java类初始化方式顺序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>静态块（只在类加载的时候执行一次，因此一般创建工厂、数据库初始化都放入静态块，一般用于执行一些全局性的初始化操作</li>
<li>成员变量默认值初始化/构造块（不常用）按照代码出现先后顺序</li>
<li>构造器</li>
</ol>
<hr>
<p>参考链接：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1P54y1y7A4?p=131">B站马士兵Java教程</a></li>
<li><a href="/2020/10/20/Java%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F%E9%A1%BA%E5%BA%8F/core_java.gif" title="Core Java 4.6.7 Initialization Blocks">Core Java 4.6.7 Initialization Blocks</a>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/20/Java%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F%E9%A1%BA%E5%BA%8F/" data-id="cknt1p8y20004h0nc4o493elj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java负数取模" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/20/Java%E8%B4%9F%E6%95%B0%E5%8F%96%E6%A8%A1/" class="article-date">
  <time datetime="2020-10-20T11:59:22.000Z" itemprop="datePublished">2020-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/20/Java%E8%B4%9F%E6%95%B0%E5%8F%96%E6%A8%A1/">Java负数取模</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>终极结论：负数参与的取模运算规则：先忽略负号，按照正数运算之后，被取模的数是正数结果就取正，反之取负。（注：(-2)%5中被取模数是-2）</p>
<hr>
<p>参考链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37444478/article/details/77197870">CSDN：java 中负数取模</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/20/Java%E8%B4%9F%E6%95%B0%E5%8F%96%E6%A8%A1/" data-id="cknt1p8y20005h0nc228a7xr8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/04/06/CSAPP/">CSAPP</a>
          </li>
        
          <li>
            <a href="/2021/01/07/Android-Studio%E5%A2%99%E5%86%85%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/">Android Studio墙内使用手册</a>
          </li>
        
          <li>
            <a href="/2020/12/25/c/">c</a>
          </li>
        
          <li>
            <a href="/2020/10/28/Servlet%E5%B0%8F%E7%82%B9%E5%92%8C%E8%B8%A9%E5%9D%91/">Servlet踩坑</a>
          </li>
        
          <li>
            <a href="/2020/10/25/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/">Java多线程</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>